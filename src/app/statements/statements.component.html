<div class="columns">
  <div class="column is-hidden-mobile is-2"></div>
  <div class="column">
    <div>
      <upload-csv (uploadData)="uploadData($event)"></upload-csv>
    </div>
  </div>
  <div class="column is-hidden-mobile is-2"></div>
</div>
<div class="columns">
  <div class="column is-hidden-mobile is-2"></div>
  <div class="column">
    <div class="notification is-danger" *ngIf="errorMessage" [ngSwitch]="errorMessage">
      <h2 class="subtitle" *ngSwitchCase="'badData'">"Bad Data" - There seems to be an issue with this CSV</h2>
      <h2 class="subtitle" *ngSwitchCase="'selectStatement'">Select a statement</h2>
    </div>
  </div>
  <div class="column is-hidden-mobile is-2"></div>
</div>
<div class="columns">
  <div class="column is-hidden-mobile is-2"></div>
  <div class="column">
    <div class="select">
      <select *ngIf="(statements$ | async)?.length" [(ngModel)]="selectedStatement" (change)="statementSelect()">
        <option [ngValue]="undefined">None</option>
        <option *ngFor="let opt of statements$ | async" [ngValue]="(opt|async)?.id">{{(opt|async)?.name}}</option>
      </select>
    </div>
    <!-- <button class="button is-link is-right" *ngIf="dataList?.length" (click)="sendAll()">Send All Statements</button> -->
  </div>
  <div class="column is-hidden-mobile is-2"></div>
</div>
<div class="columns">
  <div class="column is-hidden-mobile is-2"></div>
  <div class="column is-full-mobile is-8">
    <div class="table-container">
      <table class="table is-narrow is-striped">
        <thead>
          <th *ngFor="let name of headingList">
            {{name}}
          </th>
        </thead>
        <tbody>
          <tr *ngFor="let row of dataList">
            <td *ngFor="let field of fieldNames">{{row[field]}}</td>
            <td>
              <button class="button is-link is-small" (click)="testOne(row)" [disabled]="row.url">Test&nbsp;<i class="fas fa-vial"></i></button>
            </td>
            <td>
              <button class="button is-link is-small" *ngIf="row.url" (click)="openUrl(row.url)">Open&nbsp;<i
                  class="fas fa-link"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="column is-hidden-mobile is-2"></div>
</div>
